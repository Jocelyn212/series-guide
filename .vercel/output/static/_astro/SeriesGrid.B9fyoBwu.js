import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{r as b}from"./index.yGrMsBkE.js";import"./index.yBjzXJbu.js";function C({title:s,description:x,genre:r,network:l,startYear:g,endYear:d,status:m,imdbRating:u,posterUrl:h,platforms:a,slug:p}){const[c,f]=b.useState(!1),[t,n]=b.useState(!1),i={ongoing:"bg-green-500",ended:"bg-gray-500",cancelled:"bg-red-500"}[m],w={ongoing:"En emisión",ended:"Finalizada",cancelled:"Cancelada"}[m],v=o=>{o.preventDefault(),o.stopPropagation(),f(!c)},N=o=>{o.preventDefault(),o.stopPropagation(),n(!t)};return e.jsxs("article",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] overflow-hidden group",children:[e.jsxs("div",{className:"relative h-64 bg-gray-200",children:[h?e.jsx("img",{src:h,alt:s,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx("span",{className:"text-6xl",children:"🎬"})}),e.jsx("div",{className:`absolute top-3 right-3 ${i} text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg`,children:w}),e.jsxs("div",{className:"absolute top-3 left-3 bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:["⭐ ",u]}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:v,className:`p-2 rounded-full shadow-lg transition-all duration-200 hover:scale-110 ${c?"bg-red-500 text-white":"bg-white text-gray-700 hover:bg-red-50"}`,children:e.jsx("svg",{className:`w-4 h-4 ${c?"fill-current":"fill-none"}`,stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("button",{onClick:N,className:`p-2 rounded-full shadow-lg transition-all duration-200 hover:scale-110 ${t?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-blue-50"}`,children:e.jsx("svg",{className:`w-4 h-4 ${t?"fill-current":"fill-none"}`,stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors",children:s}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l," • ",g,d?`-${d}`:""]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.slice(0,3).map((o,j)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-xs font-medium hover:bg-blue-200 transition-colors",children:o},j)),r.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1",children:["+",r.length-3," más"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:x}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Disponible en:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.slice(0,3).map((o,j)=>{const y={Netflix:"https://www.netflix.com","HBO Max":"https://www.hbomax.com","Prime Video":"https://www.primevideo.com","Amazon Prime Video":"https://www.primevideo.com","Disney+":"https://www.disneyplus.com","Apple TV+":"https://tv.apple.com",FOX:"https://www.fox.com",Showtime:"https://www.showtime.com",FX:"https://www.fxnetworks.com",AMC:"https://www.amc.com"}[o.name];return y?e.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:`px-2 py-1 rounded-md text-xs font-medium transition-all duration-200 hover:scale-105 hover:shadow-md ${o.isPremium?"bg-purple-100 text-purple-800 hover:bg-purple-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,onClick:k=>k.stopPropagation(),title:`Ver en ${o.name}`,children:[o.name,o.isPremium&&" 💎"]},j):e.jsxs("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${o.isPremium?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:[o.name,o.isPremium&&" 💎"]},j)}),a.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1",children:["+",a.length-3," más"]})]})]}),e.jsx("a",{href:`/series/${p}`,className:"block w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-center py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-[1.02] shadow-md hover:shadow-lg",children:"Ver Análisis 📖"})]})]})}function L({series:s,onFilteredSeriesChange:x}){const[r,l]=b.useState("all"),g=Array.from(new Set(s.flatMap(t=>t.genre))).sort(),d=Array.from(new Set(s.flatMap(t=>t.platforms.map(n=>n.name)))).sort(),m=t=>{l(t);let n=s;switch(t){case"all":n=s;break;case"ongoing":n=s.filter(i=>i.status==="ongoing");break;case"ended":n=s.filter(i=>i.status==="ended");break;case"cancelled":n=s.filter(i=>i.status==="cancelled");break;default:g.includes(t)?n=s.filter(i=>i.genre.some(w=>w.toLowerCase()===t.toLowerCase())):d.includes(t)&&(n=s.filter(i=>i.platforms.some(w=>w.name===t)));break}x(n)},u=[{key:"all",label:"Todas",count:s.length},{key:"ongoing",label:"En Emisión",count:s.filter(t=>t.status==="ongoing").length},{key:"ended",label:"Finalizadas",count:s.filter(t=>t.status==="ended").length},{key:"cancelled",label:"Canceladas",count:s.filter(t=>t.status==="cancelled").length}],a=["Drama","Sci-Fi","Fantasy","Crime","Comedy","Horror","Thriller"].filter(t=>g.some(n=>n.toLowerCase().includes(t.toLowerCase()))).map(t=>({key:t,label:t,count:s.filter(n=>n.genre.some(i=>i.toLowerCase().includes(t.toLowerCase()))).length})).filter(t=>t.count>0),c=["Netflix","HBO Max","Prime Video","Disney+","Apple TV+"].filter(t=>d.includes(t)).map(t=>({key:t,label:t,count:s.filter(n=>n.platforms.some(i=>i.name===t)).length})).filter(t=>t.count>0),f=[...u,...a,...c];return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Filtrar Series"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-3",children:"Por Estado:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:u.map(t=>e.jsxs("button",{onClick:()=>m(t.key),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${r===t.key?"bg-blue-600 text-white shadow-lg transform scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md"}`,children:[t.label,e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",t.count,")"]})]},t.key))})]}),a.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-3",children:"Por Género:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:a.map(t=>e.jsxs("button",{onClick:()=>m(t.key),className:`px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 ${r===t.key?"bg-purple-600 text-white shadow-lg transform scale-105":"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md"}`,children:[t.label,e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",t.count,")"]})]},t.key))})]}),c.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-3",children:"Por Plataforma:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:c.map(t=>e.jsxs("button",{onClick:()=>m(t.key),className:`px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 ${r===t.key?"bg-green-600 text-white shadow-lg transform scale-105":"bg-green-100 text-green-700 hover:bg-green-200 hover:shadow-md"}`,children:[t.label,e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",t.count,")"]})]},t.key))})]})]}),r!=="all"&&e.jsxs("div",{className:"text-center mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("span",{className:"text-sm text-blue-700",children:["📊 Mostrando series filtradas por: ",e.jsx("span",{className:"font-semibold text-blue-800",children:f.find(t=>t.key===r)?.label})]}),e.jsx("button",{onClick:()=>m("all"),className:"ml-3 text-xs text-blue-600 hover:text-blue-800 underline",children:"Limpiar filtros"})]})]})}function S({onSearch:s,placeholder:x="Buscar series..."}){const[r,l]=b.useState(""),g=u=>{u.preventDefault(),s(r)},d=u=>{const h=u.target.value;l(h),s(h)},m=()=>{l(""),s("")};return e.jsx("div",{className:"mb-6",children:e.jsx("form",{onSubmit:g,className:"max-w-md mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:d,placeholder:x,className:"w-full px-4 py-3 pl-10 pr-10 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r&&e.jsx("button",{type:"button",onClick:m,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}function M({initialSeries:s}){const[x,r]=b.useState(s),[l,g]=b.useState(""),[d,m]=b.useState(s);b.useEffect(()=>{if(!l.trim()){r(d);return}const a=d.filter(p=>p.title.toLowerCase().includes(l.toLowerCase())||p.description.toLowerCase().includes(l.toLowerCase())||p.genre.some(c=>c.toLowerCase().includes(l.toLowerCase()))||p.network.toLowerCase().includes(l.toLowerCase()));r(a)},[l,d]);const u=a=>{if(m(a),l.trim()){const p=a.filter(c=>c.title.toLowerCase().includes(l.toLowerCase())||c.description.toLowerCase().includes(l.toLowerCase())||c.genre.some(f=>f.toLowerCase().includes(l.toLowerCase()))||c.network.toLowerCase().includes(l.toLowerCase()));r(p)}else r(a)},h=a=>{g(a)};return e.jsxs(e.Fragment,{children:[e.jsx(S,{onSearch:h,placeholder:"Buscar por título, género, cadena..."}),e.jsx(L,{series:s,onFilteredSeriesChange:u}),(l||x.length!==s.length)&&e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Mostrando ",e.jsx("span",{className:"font-semibold text-blue-600",children:x.length})," de ",e.jsx("span",{className:"font-semibold",children:s.length})," series",l&&e.jsxs("span",{className:"text-sm text-gray-500 block mt-1",children:['Resultados para: "',e.jsx("span",{className:"italic",children:l}),'"']})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(a=>e.jsx(C,{title:a.title,description:a.description,genre:a.genre,network:a.network,startYear:a.startYear,endYear:a.endYear,status:a.status,imdbRating:a.imdbRating,posterUrl:a.posterUrl,platforms:a.platforms,slug:a.slug},a.slug))}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:l?"🔍":"📺"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:l?"No se encontraron resultados":"No hay series disponibles"}),e.jsx("p",{className:"text-gray-500",children:l?"Prueba con otros términos de búsqueda o ajusta los filtros.":"Prueba con otros filtros para ver más resultados."}),l&&e.jsx("button",{onClick:()=>h(""),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Limpiar búsqueda"})]})]})}export{M as default};
